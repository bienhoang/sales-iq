# Phase 3: CLI Template Update

## Context
- Parent plan: [plan.md](./plan.md)
- Depends on: [Phase 1](./phase-01-shared-output-convention.md)
- File to modify: `packages/cli/src/utils/templates.ts`

## Overview
- **Priority**: P1
- **Status**: Pending
- **Description**: Update `generateClaudeMd()` to include workspace output convention reference in the project CLAUDE.md

## Key Insights
- The CLAUDE.md generated by `sales-iq init` is auto-managed — safe to modify template
- Current CLAUDE.md has: Brand section, Skills section (Quick Start), Files section
- Need to add: Workspace section explaining output persistence

## Requirements
- Add `## Workspace` section to generated CLAUDE.md
- Reference the output convention
- Explain directory structure briefly
- Don't add workspace to Files section (on-demand, doesn't exist at init)

## Related Code Files
- **Modify**: `packages/cli/src/utils/templates.ts` — `generateClaudeMd()` function

## Implementation Steps

1. Open `packages/cli/src/utils/templates.ts`
2. In `generateClaudeMd()`, add a `## Workspace` section after the `## Files` section:

```typescript
## Workspace
Skills auto-save deliverables to \`workspace/\` organized by content type.
Directories are created on-demand when skills generate output.

| Directory | Content |
|-----------|---------|
| \`workspace/proposals/\` | Business proposals, pricing quotes |
| \`workspace/emails/\` | Email campaigns, follow-up sequences |
| \`workspace/outreach/\` | Cold email and LinkedIn sequences |
| \`workspace/ad-copy/\` | Meta, Google, LinkedIn ad copy |
| \`workspace/content/\` | SEO content, repurposed content |
| \`workspace/social/\` | Social posts, calendars, community content |
| \`workspace/intel/\` | Competitor analysis, lead scorecards |
| \`workspace/reports/\` | Pipeline reports, marketing metrics |
| \`workspace/strategy/\` | Brand strategy, consulting frameworks |
| \`workspace/sales-prep/\` | Demo prep, objection playbooks, account plans |
| \`workspace/research/\` | Research reports, brainstorm summaries |

File naming: \`{descriptor}-{YYYY-MM-DD}.md\`
```

3. Verify the template string renders valid markdown

## Todo
- [ ] Update `generateClaudeMd()` in `packages/cli/src/utils/templates.ts`
- [ ] Verify template renders correctly

## Success Criteria
- Generated CLAUDE.md includes `## Workspace` section
- Directory mapping table is accurate and matches Phase 1 convention
- Existing CLAUDE.md sections (Brand, Skills, Files) unchanged

## Risk Assessment
- **Risk**: CLAUDE.md becomes too long → Claude doesn't read it all
  - **Mitigation**: Keep Workspace section concise (~15 lines). Table format is scannable.

## Next Steps
→ Phase 4: MCP calendar persistence
